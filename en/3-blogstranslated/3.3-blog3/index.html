<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="ducdmse182938@fpt.edu.vn"><link rel=icon href=https://mrgoat-hellking.github.io/fcj-workshop-template/images/favicon.png type=image/png><title>Blog 3 :: Internship Report</title>
<link href=https://mrgoat-hellking.github.io/fcj-workshop-template/css/nucleus.css?1765312725 rel=stylesheet><link href=https://mrgoat-hellking.github.io/fcj-workshop-template/css/fontawesome-all.min.css?1765312725 rel=stylesheet><link href=https://mrgoat-hellking.github.io/fcj-workshop-template/css/hybrid.css?1765312725 rel=stylesheet><link href=https://mrgoat-hellking.github.io/fcj-workshop-template/css/featherlight.min.css?1765312725 rel=stylesheet><link href=https://mrgoat-hellking.github.io/fcj-workshop-template/css/perfect-scrollbar.min.css?1765312725 rel=stylesheet><link href=https://mrgoat-hellking.github.io/fcj-workshop-template/css/auto-complete.css?1765312725 rel=stylesheet><link href=https://mrgoat-hellking.github.io/fcj-workshop-template/css/atom-one-dark-reasonable.css?1765312725 rel=stylesheet><link href=https://mrgoat-hellking.github.io/fcj-workshop-template/css/theme.css?1765312725 rel=stylesheet><link href=https://mrgoat-hellking.github.io/fcj-workshop-template/css/hugo-theme.css?1765312725 rel=stylesheet><link href=https://mrgoat-hellking.github.io/fcj-workshop-template/css/theme-workshop.css?1765312725 rel=stylesheet><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/jquery-3.3.1.min.js?1765312725></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://mrgoat-hellking.github.io/fcj-workshop-template/en/3-blogstranslated/3.3-blog3/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=https://mrgoat-hellking.github.io/fcj-workshop-template/><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/lunr.min.js?1765312725></script><script type=text/javascript src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/auto-complete.js?1765312725></script><script type=text/javascript>var baseurl="https://mrgoat-hellking.github.io/fcj-workshop-template//en"</script><script type=text/javascript src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/search.js?1765312725></script></div><div class=highlightable><ul class=topics><li data-nav-id=/en/1-worklog/ title=Worklog class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/><b>1. </b>Worklog
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/en/1-worklog/1.1-week1/ title="Week 1 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.1-week1/><b>1.1. </b>Week 1 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.2-week2/ title="Week 2 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.2-week2/><b>1.2. </b>Week 2 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.3-week3/ title="Week 3 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.3-week3/><b>1.3. </b>Week 3 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.4-week4/ title="Week 4 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.4-week4/><b>1.4. </b>Week 4 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.5-week5/ title="Week 5 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.5-week5/><b>1.5. </b>Week 5 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.6-week6/ title="Week 6 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.6-week6/><b>1.6. </b>Week 6 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.7-week7/ title="Week 7 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.7-week7/><b>1.7. </b>Week 7 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.8-week8/ title="Week 8 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.8-week8/><b>1.8. </b>Week 8 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.9-week9/ title="Week 9 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.9-week9/><b>1.9. </b>Week 9 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.10-week10/ title="Week 10 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.10-week10/><b>1.10. </b>Week 10 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.11-week11/ title="Week 11 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.11-week11/><b>1.11. </b>Week 11 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/1-worklog/1.12-week12/ title="Week 12 Worklog" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/1-worklog/1.12-week12/><b>1.12. </b>Week 12 Worklog
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/en/2-proposal/ title=Proposal class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/3-blogstranslated/ title="Translated Blogs" class="dd-item
parent"><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/3-blogstranslated/><b>3. </b>Translated Blogs
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/en/3-blogstranslated/3.1-blog1/ title="Blog 1" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/3-blogstranslated/3.2-blog2/ title="Blog 2" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/3-blogstranslated/3.2-blog2/><b>3.2. </b>Blog 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/3-blogstranslated/3.3-blog3/ title="Blog 3" class="dd-item
active"><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/en/4-eventparticipated/ title="Events Participated" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/4-eventparticipated/><b>4. </b>Events Participated
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/en/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/4-eventparticipated/4.3-event3/ title="Event 3" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/4-eventparticipated/4.3-event3/><b>4.3. </b>Event 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/4-eventparticipated/4.4-event4/ title="Event 4" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/4-eventparticipated/4.4-event4/><b>4.4. </b>Event 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/4-eventparticipated/4.5-event5/ title="Event 5" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/4-eventparticipated/4.5-event5/><b>4.5. </b>Event 5
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/en/5-workshop/ title=Workshop class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/en/5-workshop/5.01-workshop-overview/ title="Workshop Overview" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/5-workshop/5.01-workshop-overview/><b>5.01. </b>Workshop Overview
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/5-workshop/5.02-setup-environment/ title="Setup Environment" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/5-workshop/5.02-setup-environment/><b>5.02. </b>Setup Environment
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/5-workshop/5.03-cdk-bootstrap/ title="CDK Bootstrap" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/5-workshop/5.03-cdk-bootstrap/><b>5.03. </b>CDK Bootstrap
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/5-workshop/5.04-configure-stacks/ title="Configure Infrastructure Stacks" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/5-workshop/5.04-configure-stacks/><b>5.04. </b>Configure Infrastructure Stacks
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/5-workshop/5.05-configure-api-lambda/ title="Configure API & Lambda" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/5-workshop/5.05-configure-api-lambda/><b>5.05. </b>Configure API & Lambda
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/5-workshop/5.06-deploy-backend/ title="Deploy Backend Services" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/5-workshop/5.06-deploy-backend/><b>5.06. </b>Deploy Backend Services
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/5-workshop/5.07-test-endpoints/ title="Test Endpoints End-to-End" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/5-workshop/5.07-test-endpoints/><b>5.07. </b>Test Endpoints End-to-End
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/5-workshop/5.08-push-gitlab/ title="Push to GitLab" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/5-workshop/5.08-push-gitlab/><b>5.08. </b>Push to GitLab
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/5-workshop/5.09-cleanup/ title=Cleanup class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/5-workshop/5.09-cleanup/><b>5.09. </b>Cleanup
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/en/6-self-evaluation/ title=Self-Assessment class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/6-self-evaluation/><b>6. </b>Self-Assessment
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/7-feedback/ title="Sharing and Feedback" class=dd-item><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/7-feedback/><b>7. </b>Sharing and Feedback
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://mrgoat-hellking.github.io/fcj-workshop-template/en/3-blogstranslated/3.3-blog3/ selected>English</option><option id=vi value=https://mrgoat-hellking.github.io/fcj-workshop-template/vi/3-blogstranslated/3.3-blog3/>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/>Internship Report</a> > <a href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/3-blogstranslated/>Translated Blogs</a> > Blog 3</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#data-compression-with-api-gateway>Data Compression with API Gateway</a></li><li><a href=#handling-compressed-data-in-aws-lambda>Handling Compressed Data in AWS Lambda</a></li><li><a href=#using-function-urls-with-compressed-payloads>Using Function URLs with Compressed Payloads</a></li><li><a href=#sample-application>Sample Application</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 3</h1><h1 id=optimizing-network-footprint-in-serverless-applications>Optimizing Network Footprint in Serverless Applications</h1><p><em>by Chris McPeek on 21 MAR 2025 in Amazon API Gateway, Amazon Elastic Kubernetes Service, Amazon EventBridge, Amazon Simple Queue Service (SQS), Amazon Simple Storage Service (S3), AWS Lambda, Serverless</em></p><p><em>Authored by Anton Aleksandrov, Principal Solutions Architect, AWS Serverless and Daniel Abib, Senior Specialist Solutions Architect, AWS.</em></p><p>Serverless application developers frequently encounter scenarios where they must transport large payloads, particularly in modern cloud applications that require rich data. Examples include analytics platforms generating detailed reports, e-commerce systems managing large product catalogs, healthcare applications transmitting patient records, or financial services aggregating extensive transactional data.
However, many serverless services have strict payload size limits — for example:
AWS Lambda: 6 MB per request/response</p><p>Amazon SQS and Amazon EventBridge: 256 KB per message</p><p>This post explains how to use data compression techniques to reduce network footprint and transport larger payloads within existing constraints.</p><hr><h2 id=overview>Overview</h2><p>As cloud applications evolve to meet new features and Service Level Objectives (SLOs), payload sizes often grow. Eventually, you may hit service-imposed limits such as:
Lambda synchronous invoke: 6 MB</p><p>API Gateway: 10 MB</p><p>SQS/EventBridge: 256 KB</p><p>If payloads reach tens of MBs or include large binary objects, you can store data on Amazon S3 and use pre-signed URLs for direct upload/download.</p><p>Figure 1 – Sample architecture for handling large payloads.
When handling large messages via SQS or EventBridge, you can store message content in S3 and send only a reference. The consumer then retrieves the full message directly from S3.
However, while these techniques work, they introduce architectural complexity and require modifying existing workflows.
Additionally, as payload sizes increase, data transfer costs rise—especially through NAT Gateways, VPC Endpoints, or cross-Region transfers. For example, Lambda functions inside a VPC may invoke public endpoints or external services.</p><p>Figure 2 – Examples of using virtual network appliances with serverless applications.
Both NAT Gateway and VPC Endpoint are billed per GB of data processed, making data compression a valuable optimization technique.</p><hr><p>**What Is Data Compression?
Data compression reduces data size to improve performance and cost-efficiency for storage and transmission. Tools such as gzip and zstd are widely used, standardized under IANA and IETF RFC 9110.
Modern browsers (Chrome, Firefox), HTTP tools (curl, Postman), and runtimes (Node.js, Python) support compression natively.
When clients send compressed data, they specify it using the Content-Type header. To receive compressed responses, clients specify supported compression methods in the Accept-Encoding request header.</p><p>Figure 3 – Accept-Encoding request header specifying supported compression methods.
The server then compresses responses using a supported method and includes a Content-Encoding header to indicate the compression type.</p><p>Figure 4 – Content-Encoding response header specifying compression method.
This reduces bytes transmitted over the network, improving latency. Text-based formats like JSON, XML, HTML, and YAML compress well, whereas binary files (PDF, JPEG) compress less effectively.</p><hr><h2 id=data-compression-with-api-gateway>Data Compression with API Gateway</h2><p>Amazon API Gateway offers built-in compression via the minimumCompressionSize configuration, which automatically compresses responses above a certain size (0 bytes–10 MB).</p><p>Figure 5 – Handling data compression in API Gateway.
How It Works
API Gateway automatically decompresses incoming requests and compresses outgoing responses.</p><p>Compression is bi-directional and works seamlessly with JSON payloads.</p><p>Clients specify compression in the Content-Encoding header; API Gateway decompresses before forwarding to integrations.</p><p>API Gateway compresses integration responses when clients include a matching Accept-Encoding header.</p><p>Test results:
Compression disabled: Response size = 1 MB, latency = 660 ms</p><p>Compression enabled: Response size = 220 KB, latency = 550 ms</p><p>→ 78% network footprint reduction and 110 ms faster response.
To preserve compression end-to-end (so Lambda can handle decompression), configure binaryMediaTypes to allow binary passthrough.</p><hr><h2 id=handling-compressed-data-in-aws-lambda>Handling Compressed Data in AWS Lambda</h2><p>AWS Lambda Invoke API supports text-based payloads (e.g., JSON) up to 6 MB (sync) or 256 KB (async).
You can, however, compress payloads within Lambda code to overcome limits and reduce transfer costs.</p><p>Figure 7 – Transporting compressed payloads in serverless applications.
The code below shows how to compress response payloads in Node.js using the built-in zlib module:</p><p>Figure 8 – Sample code implementing response payload compression in a Lambda function.
Key details:
Line 1 imports gzip from the zlib module.</p><p>Lines 11 compress and Base64-encode data (since Lambda expects text-based output).</p><p>Lines 13–21 create the response object with isBase64Encoded=true and proper headers.</p><p>Result:
A 20 MB uncompressed JSON returns as a 2.5 MB compressed payload — 80% network footprint reduction.</p><p>Figure 9 – Screenshot from Postman showing original vs. compressed payload size.
This method allows transferring payloads several times larger than Lambda’s default limits</p><hr><h2 id=using-function-urls-with-compressed-payloads>Using Function URLs with Compressed Payloads</h2><p>Transporting compressed payloads via Lambda Function URLs requires no extra configuration.
The handler simply compresses and Base64-encodes the response.
Incoming requests marked as binary are automatically passed to your function as Base64 strings.</p><p>Figure 10 – Sample code implementing request payload decompression in a Lambda function.</p><p>Trade-Offs and Testing Results
Compression is CPU-intensive, increasing invocation duration and potentially cost. However, it reduces data transfer and latency—often yielding net savings.
Tests using Node.js on ARM architecture with random JSON payloads showed:
Compressing a 1 MB JSON object added ~124 ms compute time for 1 GB memory.</p><p>10 million invocations → +$16 compute cost.</p><p>But 70% payload size reduction saved ~$300 (NAT Gateway) or ~$70 (VPC Endpoint).</p><p>Savings depend on payload type and compression ratio. For low-compressibility data, results may vary.</p><hr><h2 id=sample-application>Sample Application</h2><p>You can test this in your own AWS account using the sample project in the provided GitHub repository.
The sample provisions two Lambda functions to demonstrate gzip compression for GET and POST operations via Function URLs and API Gateway.
Results show >80% reduction in network footprint using JSON payloads.</p><p>Figure 11 – Screenshot from Postman showing the original and compressed payload size.</p><hr><h2 id=conclusion>Conclusion</h2><p>Data compression allows larger payload transfers and significantly reduces network footprint. It improves latency and helps control transfer costs, especially for data flowing through NAT Gateways or VPC Endpoints.
However, compression adds CPU overhead — you should balance the compute cost against the network savings.
Compression is most effective for large text-based payloads, where small increases in compute time are offset by faster, cheaper data transfer.
By applying these techniques in AWS Lambda and API Gateway, you can make your serverless applications more efficient, scalable, and cost-optimized.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/3-blogstranslated/3.2-blog2/ title="Blog 2"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=https://mrgoat-hellking.github.io/fcj-workshop-template/en/4-eventparticipated/ title="Events Participated" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/clipboard.min.js?1765312725></script><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/perfect-scrollbar.min.js?1765312725></script><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/perfect-scrollbar.jquery.min.js?1765312725></script><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/jquery.sticky.js?1765312725></script><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/featherlight.min.js?1765312725></script><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/highlight.pack.js?1765312725></script><script>hljs.initHighlightingOnLoad()</script><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/modernizr.custom-3.6.0.js?1765312725></script><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/learn.js?1765312725></script><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/js/hugo-learn.js?1765312725></script><link href=https://mrgoat-hellking.github.io/fcj-workshop-template/mermaid/mermaid.css?1765312725 rel=stylesheet><script src=https://mrgoat-hellking.github.io/fcj-workshop-template/mermaid/mermaid.js?1765312725></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>